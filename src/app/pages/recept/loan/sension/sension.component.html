<div class="container mt-4" *ngIf="!loading" id="receipt-content">
  <div class="card shadow-lg border-0 rounded-3">
    <div class="card-header bg-primary text-white text-center py-3">
      <div class="d-flex justify-content-center align-items-center gap-3">
        <!-- Company icon -->
        <i class="bi bi-building fs-2"></i>

        <div class="text-start">
          <h5 class="fw-bold mb-1">{{cominfo.cName}}</h5>
          <p class="mb-1">
            <i class="bi bi-geo-alt-fill me-1"></i>
            {{cominfo.cAddress}}
          </p>
          <p class="mb-1">
            <i class="bi bi-telephone-fill me-1"></i>
            {{cominfo.cPhone}}
          </p>
          <p class="mb-0">
            <i class="bi bi-envelope-fill me-1"></i>
            {{cominfo.cEmail}}
          </p>
        </div>
      </div>
    </div>

    <div class="card-body px-5 py-4">
      <div class="row mb-4">
        <div class="col-md-8">
          <table class="table table-sm table-borderless">
            <tr><td><strong>Borrower ID:</strong></td><td>{{ borrower.brwId }}</td></tr>
            <tr><td><strong>Full Name:</strong></td><td>{{ borrower.fullName }}</td></tr>
            <tr><td><strong>Phone:</strong></td><td>{{ borrower.phone }}</td></tr>
            <tr><td><strong>Email:</strong></td><td>{{ borrower.email || '-' }}</td></tr>
            <tr><td><strong>Address:</strong></td><td>{{ borrower.bAddress }}</td></tr>
            <tr><td><strong>NID:</strong></td><td>{{ borrower.nId }}</td></tr>
            <tr><td><strong>DOB:</strong></td><td>{{ borrower.dob | date:'mediumDate' }}</td></tr>
          </table>
        </div>
        <div class="col-md-4 text-center">
          <img *ngIf="photoUrl" [src]="photoUrl" width="150" height="150" class="rounded shadow-sm border">
          <div *ngIf="!photoUrl" class="border rounded shadow-sm bg-light" style="width:150px; height:150px; line-height:150px;">Photo</div>
        </div>
      </div>

      <hr />

      <div class="row mb-4">
        <div class="col-md-12">
          <table class="table table-bordered text-center">
            <thead class="table-primary">
              <tr>
                <th>Loan Type</th>
                <th>Amount (à§³)</th>
                <th>Sanction Date</th>
                <th>Month</th>
                <th>Year</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>{{ borrower.loanTypeName }}</td>
                <td>{{ borrower.amount | number:'1.2-2' }}</td>
                <td>{{ borrower.sDate | date:'mediumDate' }}</td>
                <td>{{ borrower.sMonth }}</td>
                <td>{{ borrower.sYear }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row mt-5">
        <div class="col-md-6 text-start">
          <div class="border-bottom mt-4" style="width: 60%;"></div>
          <p>Borrower Signature</p>
        </div>
        <div class="col-md-6 text-end">
          <div class="border-bottom mt-4 ms-auto" style="width: 60%;"></div>
          <p>Authorized Officer</p>
        </div>
      </div>

      <div class="text-center mt-4">
        <p class="text-muted small">This is a system-generated document.</p>
        <button class="btn btn-success btn-lg mt-2" (click)="printReceipt()">
          <i class="bi bi-printer"></i> Print Receipt
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="loading" class="text-center mt-5"><p>Loading borrower data...</p></div>
